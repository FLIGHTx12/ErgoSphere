<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivia Loading Test</title>
    <style>
        body {
            background: #1a1a1a;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .test-result {
            background: rgba(40, 40, 60, 0.8);
            border: 1px solid #0f0;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }
        .success {
            border-color: #27ae60;
            color: #27ae60;
        }
        .error {
            border-color: #e74c3c;
            color: #e74c3c;
        }
        .info {
            border-color: #3498db;
            color: #3498db;
        }
    </style>
</head>
<body>
    <h1>üß™ Trivia Data Loading Test</h1>
    
    <div id="test-results"></div>
    
    <script>
        const testResults = document.getElementById('test-results');
        
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `test-result ${type}`;
            div.innerHTML = `<strong>[${new Date().toLocaleTimeString()}]</strong> ${message}`;
            testResults.appendChild(div);
            console.log(message);
        }
        
        async function testTriviaLoading() {
            log('üöÄ Starting trivia data loading test...', 'info');
            
            const categories = [
                'history', 'music', 'games', 'sports', 'spanish-english',
                'movies-shows', 'minneapolis-chicago', 'construction', 'coding'
            ];
            
            let successCount = 0;
            let totalQuestions = 0;
            
            for (const category of categories) {
                try {
                    const url = `data/trivia/${category}.json`;
                    log(`üìÅ Testing fetch for: ${url}`);
                    
                    const response = await fetch(url);
                    log(`üì° Response status: ${response.status} (${response.ok ? 'OK' : 'ERROR'})`);
                    
                    if (response.ok) {
                        const data = await response.json();
                        log(`‚úÖ Successfully loaded ${category}: ${data.length} questions`, 'success');
                        successCount++;
                        totalQuestions += data.length;
                        
                        // Show a sample question
                        if (data.length > 0) {
                            const sample = data[0];
                            log(`üìã Sample question: ${sample.question}`, 'info');
                        }
                    } else {
                        log(`‚ùå Failed to load ${category}: ${response.status}`, 'error');
                    }
                } catch (error) {
                    log(`üí• Error loading ${category}: ${error.message}`, 'error');
                }
            }
            
            log(`üéØ Test complete: ${successCount}/${categories.length} categories loaded successfully`, 
                successCount === categories.length ? 'success' : 'error');
            log(`üìä Total questions available: ${totalQuestions}`, 'info');
        }
        
        // Run the test when page loads
        document.addEventListener('DOMContentLoaded', testTriviaLoading);
    </script>
</body>
</html>
