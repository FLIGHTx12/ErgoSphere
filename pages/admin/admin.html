<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel</title>
  <link rel="stylesheet" href="../../css/admin.css">
</head>
<body>
  <nav id="navbar">
    <button><a href="../../index.html">HOME</a></button>
    <button><a href="admin.html">ADMIN</a></button>
    <button><a href="../HCMC.html">HCMC</a></button>
  </nav>

  <div id="sidebar" class="hidden">
    <button><a href="#coop-items">CO-OP</a></button>
    <button><a href="#loot-items">LOOT</a></button>
    <button><a href="#pvp-items">PVP</a></button>
  </div>

  <div class="container">
    <div class="column">
      <button class="collapsible">CO-OP</button>
      <div id="coop-items" class="content item-container">
        <div class="filters">
          <button class="filter-button" data-filter="all">All</button>
          <button class="filter-button" data-filter="has-copies">ACTIVE</button>
          <button class="filter-button" data-filter="zero-copies">NOT ACTIVE</button>
          <button class="filter-button" data-filter="genre">GENRE</button>
        </div>
      </div>
    </div>
    <div class="column">
      <button class="collapsible">LOOT</button>
      <div id="loot-items" class="content item-container">
        <div class="filters">
          <button class="filter-button" data-filter="all">All</button>
          <button class="filter-button" data-filter="has-copies">ACTIVE</button>
          <button class="filter-button" data-filter="zero-copies">NOT ACTIVE</button>
          <button class="filter-button" data-filter="genre">GENRE</button>
        </div>
      </div>
    </div>
    <div class="column">
      <button class="collapsible">PVP</button>
      <div id="pvp-items" class="content item-container">
        <div class="filters">
          <button class="filter-button" data-filter="all">All</button>
          <button class="filter-button" data-filter="has-copies">ACTIVE</button>
          <button class="filter-button" data-filter="zero-copies">NOT ACTIVE</button>
          <button class="filter-button" data-filter="genre">GENRE</button>
        </div>
      </div>
    </div>
  </div>

  <script src="../../js/admin.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const coll = document.getElementsByClassName("collapsible");
      for (let i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
          this.classList.toggle("active");
          const content = this.nextElementSibling;
          if (content.style.display === "block") {
            content.style.display = "none";
          } else {
            content.style.display = "block";
          }
        });
      }

      const sidebar = document.getElementById('sidebar');
      const mainContent = document.querySelector('.container');
      let touchstartX = 0;
      let touchendX = 0;
      const swipeThreshold = 30; // Define a swipe threshold

      function handleGesture() {
        const swipeDistance = touchendX - touchstartX;
        if (swipeDistance > swipeThreshold) {
          sidebar.classList.add('hidden');
          sidebar.style.transform = 'translateX(100%)';
          sidebar.style.transitionDuration = '0.65s'; // Increased by 30%
          mainContent.classList.remove('sidebar-visible');
        }
        if (swipeDistance < -swipeThreshold) {
          sidebar.classList.remove('hidden');
          sidebar.style.transform = 'translateX(0)';
          sidebar.style.transitionDuration = '0.65s'; // Increased by 30%
          mainContent.classList.add('sidebar-visible');
        }
      }

      document.addEventListener('touchstart', function(e) {
        touchstartX = e.changedTouches[0].screenX;
      });

      document.addEventListener('touchend', function(e) {
        touchendX = e.changedTouches[0].screenX;
        handleGesture();
      });

      // Ensure sidebar is fixed on larger screens
      const mediaQuery = window.matchMedia('(min-width: 1024px)');
      function handleScreenChange(e) {
        if (e.matches) {
          sidebar.classList.remove('hidden');
          sidebar.style.transform = 'translateX(0)';
          sidebar.style.transitionDuration = '0.65s'; // Increased by 30%
          mainContent.classList.add('sidebar-visible');
        } else {
          sidebar.classList.add('hidden');
          sidebar.style.transform = 'translateX(100%)';
          sidebar.style.transitionDuration = '0.65s'; // Increased by 30%
          mainContent.classList.remove('sidebar-visible');
        }
      }
      mediaQuery.addListener(handleScreenChange);
      handleScreenChange(mediaQuery);
    });
  </script>
</body>
</html>