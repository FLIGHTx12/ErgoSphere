<!DOCTYPE html>
<html lang="en">
<head>    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>ErgoSphere ARENA</title>
    <link rel="stylesheet" href="../css/ErgoArena.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><circle cx=%2250%22 cy=%2250%22 r=%2240%22 fill=%22black%22/><circle cx=%2280%22 cy=%2220%22 r=%2212%22 fill=%22lime%22 opacity=%220.4%22/><circle cx=%2275%22 cy=%2225%22 r=%228%22 fill=%22lime%22/><circle cx=%2225%22 cy=%2275%22 r=%228%22 fill=%22purple%22/></svg>" />
</head>
<body>
    <div class="arena-background"></div>
    <div class="moving-stars"></div>
    
    <header>
        <div class="header-top-row">
            <div id="monsterButtons" class="monster-buttons">
                <!-- Buttons for selecting monsters will be added here by JavaScript -->
            </div>            <h1>ErgoSphere ARENA</h1>            <div class="navbar" id="navbar">
                <a href="../index.html" id="leaveArenaBtn" class="menu-button">
                    <i class="fas fa-arrow-left"></i> Leave Arena
                </a>
                <button id="howToPlayBtn" class="menu-button">
                    <i class="fas fa-question-circle"></i> How To Play
                </button>
            </div>
        </div>
    </header>

    <main>
        <div class="game-container">
              <!-- How To Play Modal -->
            <div id="howToPlayModal" class="modal">
                <div class="modal-overlay"></div>
                <div class="battle-manual-content">
                    <span class="close">&times;</span>
                    <div class="manual-header">
                        <h2>üåå ErgoSphere ARENA - Battle Manual üåå</h2>
                        <div class="manual-subtitle">Ultimate Combat & Dimension Sync Guide</div>
                    </div>
                    
                    <div class="manual-columns">
                        <div class="manual-column">                            <div class="section-card">
                                <h3>üéØ Combat Overview</h3>
                                <p>Welcome to the ErgoSphere ARENA! Two elite fighters (Jaybers8 and FLIGHTx12!) unite to battle powerful dimensional monsters. Master both combat tactics and dimensional knowledge to achieve victory!</p>
                            </div>
                            
                            <div class="section-card">
                                <h3>üéÆ Controls</h3>
                                <div class="controls-grid">
                                    <div class="control-item"><kbd>Enter</kbd> Attack with inputs</div>
                                    <div class="control-item"><kbd>Space</kbd> Switch players</div>
                                    <div class="control-item"><kbd>Tab</kbd> Cycle inputs</div>
                                    <div class="control-item"><kbd>+</kbd> Add input</div>
                                    <div class="control-item"><kbd>-</kbd> Remove input</div>
                                    <div class="control-item"><kbd>üì± Swipe</kbd> View panels</div>
                                    <div class="control-item"><kbd>A</kbd> Trivia Answer 1</div>
                                    <div class="control-item"><kbd>S</kbd> Trivia Answer 2</div>
                                    <div class="control-item"><kbd>D</kbd> Trivia Answer 3</div>
                                </div>
                            </div>
                            
                            <div class="section-card">
                                <h3>üß† Strategy Tips</h3>
                                <ol>
                                    <li><strong>Study monster hit numbers</strong> - avoid triggering counters</li>
                                    <li><strong>Build Memory Sync</strong> - trivia knowledge = massive damage</li>
                                    <li><strong>Use special moves wisely</strong> - 8 and 12 for guaranteed big damage</li>
                                    <li><strong>Time management</strong> - balance speed with accuracy</li>
                                    <li><strong>Risk vs Reward</strong> - wrong trivia answers cost you multiplier progress</li>
                                </ol>
                            </div>
                        </div>
                        
                        <div class="manual-column">
                            <div class="section-card">
                                <h3>‚öîÔ∏è Damage System</h3>
                                <ul>
                                    <li><strong>Regular Damage:</strong> Any safe number = that damage</li>
                                    <li><strong>Special Moves:</strong>
                                        <ul>
                                            <li><span class="player-jaybers">Jaybers8: "8" = 100 DMG</span></li>
                                            <li><span class="player-flight">FLIGHTx12!: "12" = 100 DMG</span></li>
                                        </ul>
                                    </li>
                                    <li><strong>‚ö†Ô∏è Counter-Attacks:</strong> Monster's hit numbers trigger retaliation</li>
                                </ul>
                            </div>
                            
                            <div class="section-card dimension-sync">
                                <h3>üåê Dimension Sync (NEW!)</h3>
                                <p>Answer interdimensional trivia to boost your Memory Sync multiplier!</p>
                                <div class="sync-mechanics">
                                    <div class="sync-item correct">‚úÖ Correct Answer: <strong>+0.5√ó Memory Sync</strong></div>
                                    <div class="sync-item wrong">‚ùå Wrong Answer: <strong>-1.0√ó Memory Sync + Boss heals 50 HP</strong></div>
                                    <div class="sync-item timeout">‚è∞ Timeout: <strong>Boss heals 10 HP</strong></div>
                                </div>
                                <p><strong>Categories:</strong> History, Music, Games, Sports, Movies, Construction, Coding, Spanish-English, Minneapolis-Chicago</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="manual-footer">
                        <div class="version-info">Battle Manual v2.1 | Dimension Sync Compatible</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>ErgoSphere ARENA &copy; 2025 | <a href="#" id="creditsLink">Credits</a></p>
    </footer>    <!-- Load JavaScript files -->
    <script src="../js/monsters.js"></script>
    <script src="../js/trivia.js"></script>
    <script src="../js/BossFight.js"></script>

    <script>
        // Modal functionality - run immediately
        window.addEventListener('load', function() {
            console.log('Window loaded, setting up modal...');
            
            const modal = document.getElementById('howToPlayModal');
            const btn = document.getElementById('howToPlayBtn');
            const span = document.getElementsByClassName('close')[0];
            const overlay = document.querySelector('.modal-overlay');

            console.log('Modal elements found:', {modal: !!modal, btn: !!btn, span: !!span, overlay: !!overlay});

            // Show modal on page load with fallback styling
            if (modal) {
                console.log('Showing modal on page load...');
                modal.style.display = 'block';
                modal.style.position = 'fixed';
                modal.style.top = '0';
                modal.style.left = '0';
                modal.style.width = '100%';
                modal.style.height = '100%';
                modal.style.zIndex = '9999';
                modal.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';
            }

            // Button click handler
            if (btn) {
                btn.onclick = function(e) {
                    e.preventDefault();
                    console.log('How to Play button clicked');
                    modal.style.display = 'block';
                    modal.style.position = 'fixed';
                    modal.style.top = '0';
                    modal.style.left = '0';
                    modal.style.width = '100%';
                    modal.style.height = '100%';
                    modal.style.zIndex = '9999';
                    modal.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';
                }
            }

            // Close button handler
            if (span) {
                span.onclick = function(e) {
                    e.preventDefault();
                    console.log('Close button clicked');
                    modal.style.display = 'none';
                }
            }

            // Overlay click handler
            if (overlay) {
                overlay.onclick = function(e) {
                    console.log('Overlay clicked, closing modal...');
                    modal.style.display = 'none';
                }
            }

            // Click outside modal to close (handle both modal and overlay)
            window.onclick = function(event) {
                if (event.target == modal || event.target.classList.contains('modal-overlay')) {
                    console.log('Clicked outside modal content, closing...');
                    modal.style.display = 'none';
                }
            }

            // Escape key handler
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && modal.style.display === 'block') {
                    console.log('Escape key pressed, closing modal...');
                    modal.style.display = 'none';
                }
            });        });

        // Initialize remaining functionality
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, setting up remaining functionality...');

            // Credits click handler
            document.getElementById('creditsLink').addEventListener('click', function(e) {
                e.preventDefault();
                alert('ErgoSphere ARENA\nDesigned by: FLIGHT\nDeveloped by: FLIGHT and Jaybers8\nSpecial thanks to the ErgoSphere community');
            });
        });
    </script>
</body>
</html>
